apiVersion: user.harbor.crossplane.io/v1alpha1
kind: UserWithGeneratedPassword
metadata:
  name: harbor-user-with-generated-password
spec:
  forProvider:
    username: testuser
    email: testuser@example.com
    fullName: Test User
    admin: false
    comment: "Harbor user with automatically generated password"
    
    # Generate a secure random password and store it in a secret
    generatePasswordInSecret:
      name: harbor-user-password
      namespace: default  # optional, defaults to resource namespace
      key: password       # optional, defaults to "password"
      length: 20          # optional, defaults to 16, min 8, max 128
      
    # Don't specify passwordSecretRef when using generatePasswordInSecret
    
  providerConfigRef:
    name: default